{{> header}}

<main class="container my-5">
    <div class="list-group-item list-group-item-action mb-5 rounded shadow" id="secion1">
        
        <h3 class="text-center mb-4">{{trip.name}}</h3>
        
        <img src="/trip/{{trip._id}}/image" id="imagen" class="img-fluid ... w-100" alt="{{trip.name}}">
        
        <ul class="list-unstyled text-center mb-4">
            <li><i class="bi bi-clock"></i> <strong>Duration:</strong> {{trip.duration}} days</li>
            <li><i class="bi bi-currency-euro"></i> <strong>Price:</strong> {{trip.price}}€</li>
            <li><i class="bi bi-people"></i> <strong>People:</strong> {{trip.max_travellers}}</li>
        </ul>

        <div class="text-center mb-4">
            <span class="badge bg-secondary"><strong>{{trip.t_trip}}</strong></span>
            
            {{#trip.flight}}
                <span class="badge bg-success">Flight included</span>
            {{/trip.flight}}
            {{^trip.national}}
                <span class="badge bg-info">National</span>
            {{/trip.national}}
            {{#trip.national}}
                <span class="badge bg-warning">International</span>
            {{/trip.national}}
        </div>

        <div class="d-flex justify-content-center">
            <a href="/" class="button btn btn-dark btn-lg">Main Page</a>
            
            <a href="/edit/trip/{{trip._id}}" class="button btn btn-dark btn-lg">Edit the trip</a>
            
            <button id="btnDelete" data-id="{{trip._id}}" class="btn btn-danger btn-lg">Delete the trip</button>
        </div>
    </div>

    <h2 class="mb-4 text-center">Activities</h2>
    <div class="row g-4"> 

        {{#activities}}
        <div class="col-12 col-md-6 col-sm-2" >
            <div class="p-4 bg-white rounded shadow">
                
                <h3 class="text-center">{{name}}</h3>
                <ol>
                    <li><strong>Fee:</strong> {{price}}€</li>
                    <li><strong>Time Span:</strong> {{duration}} hours</li> 
                    <li><strong>Turistic guide:</strong> {{guide_travel}}</li>
                </ol>
                <p class="item">{{description}}</p>
                
                <div class="d-flex justify-content-center">
                    <a href="/edit/activity/{{_id}}" class="button button2 btn btn-dark me-2">Edit the activity</a>
                    
                    <form action="/delete/activity/{{_id}}" method="POST" style="display: inline;">
                        <button type="submit" class="button button2 btn btn-dark">Delete the activity</button>
                    </form>
                </div>
            </div>
        </div>
        {{/activities}}

        {{^activities}}
            <p class="text-center text-muted">There are no activities scheduled for this trip yet.</p>
        {{/activities}}

    </div>
</main>

<div class="form-align">
    <div class="form-container">
        <h2>New activity</h2>
        
        <form method="POST" action="/add-activity/{{trip._id}}">
            <label for="main_city">Name of the activity:</label>
            <input type="text" id="main_activity" name="name" placeholder="Name of the activity:" required>

            <label for="duration">Time span:</label>
            <input type="number" id="duration" name="duration" min="0" max="12" step="1" placeholder="3 horas" required>

            <label for="price">Fee(€):</label>
            <input type="number" id="price" name="price" min="0" max="100000" step="1" placeholder="0€" required>

            <label for="description_activity">Description of the activity:</label>
            <textarea id="description_activity" name="description" rows="4" cols="40" placeholder="Insert text" required></textarea>

            <label for="guide_travel">Guide:</label>
            <select id="guide_travel" name="guide_travel" required>
                <option value="">Select the option</option>
                <option value="YES">YES</option>
                <option value="NO">NO</option>
            </select>

            <button type="submit" class="btn button btn-dark">Create</button>
        </form>
    </div>
</div>

{{> footer}}